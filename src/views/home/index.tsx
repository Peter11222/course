import React from 'react'
import type { CalendarMode } from 'antd/es/calendar/generateCalendar'
import { Dayjs } from 'dayjs'
import { Calendar, Col, Radio, Row, Select } from 'antd'
import {
  MenuOutlined,
  BankOutlined,
  CheckSquareOutlined,
  TeamOutlined,
  CalendarOutlined
} from '@ant-design/icons'

import { Summary, Collect, TaskAndMessage } from '@/views/home/style'
import '@/assets/css/home/home.css'
const Home: React.FC = () => {
  const onPanelChange = (value: Dayjs, mode: CalendarMode) => {
    console.log(value.format('YYYY-MM-DD'), mode)
  }
  return (
    <div>
      <div className="home-title">
        <span>首页</span>
      </div>
      <Summary>
        <MenuOutlined />
        <span>经营概况</span>
        <div className="total">
          <BankOutlined className="bank-icon" />
          <span>交易总额</span>
          <p>762,558</p>
        </div>
        <div className="order">
          <CheckSquareOutlined className="order-icon" />
          <span>总订单数</span>
          <p>162,581</p>
        </div>
        <div className="new">
          <CheckSquareOutlined className="new-icon" />
          <span>新增订单</span>
          <p>5813</p>
        </div>
        <div className="user">
          <TeamOutlined className="user-icon" />
          <span>新增用户</span>
          <p>15810</p>
        </div>
      </Summary>
      <Collect>
        <MenuOutlined />
        <span>收益统计</span>
        <div className="revenue">
          <svg
            className="revenue-icon"
            viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1024 824c0 110-90 200-200 200H200C90 1024 0 934 0 824V200C0 90 90 0 200 0h624c110 0 200 90 200 200v624z"
              fill="#E61F49"
            />
            <path
              d="M317.1 601.84c-9.62-2.4-19.24 4.82-21.64 14.44l-12.03 62.53c-81.77-105.83-74.55-259.75 21.65-358.36 67.33-67.34 168.34-93.8 262.14-69.74 9.63 2.4 19.24-2.4 21.65-12.03 2.4-9.62-2.4-19.24-12.02-21.64-105.83-28.86-218.86 2.4-295.83 79.36-110.63 110.63-117.85 281.4-26.45 401.65l-62.53-12.03c-9.62-2.4-19.25 4.81-21.65 14.44-2.4 9.61 4.81 19.23 14.43 21.64l105.82 21.65h4.82c2.4 0 7.2 0 9.61-2.42 4.82-2.4 7.22-7.2 7.22-12.02l21.65-105.81c0-9.63-7.23-19.25-16.84-21.66zm493.03-295.82l-105.82-21.64c-4.81 0-9.62 0-14.43 2.4-4.8 2.4-7.21 7.22-7.21 12.02l-21.65 105.83c-2.4 9.62 4.81 19.24 14.43 21.64h4.8c7.23 0 16.85-4.8 16.85-14.43l12.03-62.53c84.17 103.42 76.96 257.35-19.25 355.95-67.33 67.34-168.35 93.8-262.14 69.75-9.63-2.41-19.25 2.4-21.65 12.02-2.4 9.62 2.4 19.25 12.02 21.65 26.45 7.22 52.92 9.61 79.37 9.61 79.37 0 158.73-31.26 216.45-88.98 110.64-110.63 117.85-281.39 26.46-401.64l62.53 12.02c9.62 2.4 19.24-4.8 21.65-14.43 2.4-7.22-4.82-16.83-14.44-19.24zm0 0"
              fill="#FFF"
            />
            <path
              d="M478.24 705.26c0 9.63 7.21 19.24 19.24 19.24s19.23-7.22 19.23-19.24V604.25h101.01c9.63 0 19.25-7.22 19.25-19.24 0-12.03-7.21-19.24-19.25-19.24h-101V488.8c0-2.4 0-4.82-2.4-4.82h103.4c9.63 0 19.25-7.2 19.25-19.24 0-12.02-7.21-19.24-19.24-19.24H516.7l89-88.98a18.88 18.88 0 000-26.46 18.88 18.88 0 00-26.47 0l-81.77 84.18-84.17-84.18a18.87 18.87 0 00-26.45 0 18.86 18.86 0 000 26.46l88.98 88.98h-98.6c-9.62 0-19.24 7.22-19.24 19.24 0 12.03 7.21 19.24 19.23 19.24h103.42c0 2.41-2.4 4.82-2.4 4.82v76.96H377.23c-9.62 0-19.24 7.21-19.24 19.24 0 12.02 7.21 19.24 19.24 19.24h101v101.01zm0 0"
              fill="#FFF"
            />
          </svg>
          <span>平台总收益</span>
          <p>762,558.00</p>
        </div>
        <div className="wallet">
          {/* <img src={wallet} alt="" className="wallet-icon" /> */}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="wallet-icon"
            viewBox="0 0 1024 1024"
          >
            <path
              d="M808.1 285.4v-40.9c0-5 4.1-9.1 9.1-9.1h33.9c11.7 0 16.4-15.2 6.8-21.8l-104.1-71.5a40.07 40.07 0 0 0-45.4 0l-104.1 71.5c-9.7 6.6-5 21.8 6.8 21.8H645c5 0 9.1 4.1 9.1 9.1v40.9H222c-45.6 0-82.9 37.3-82.9 82.9v346.1c0 45.6 37.3 82.9 82.9 82.9h586.1c45.6 0 82.9-37.3 82.9-82.9V368.3c0-45.6-37.3-82.9-82.9-82.9z"
              fill="#FEAC33"
              p-id="2215"
            />
            <path
              d="M810.1 238.8c1.7-2.1 4.2-3.4 7.1-3.4h33.9c11.7 0 16.4-15.2 6.8-21.8l-104.1-71.5a40.07 40.07 0 0 0-45.4 0l-17.8 12.2c45 20.7 85.5 49.5 119.5 84.5zM863 306.4c10.4 16.7 19.6 34.2 27.4 52.5-2.4-20.8-12.5-39.3-27.4-52.5zM139.1 368.3v49.5C151 371 171.2 327.5 198 289c-34 10.3-58.9 42-58.9 79.3zM139.1 714.4c0 45.6 37.3 82.9 82.9 82.9h21.2c-49.7-49.7-86.2-112.6-104.1-182.8v99.9zM891 714.4v-42.3c-20.1 47.1-49 89.5-84.6 125.2h1.7c45.6 0 82.9-37.3 82.9-82.9z"
              fill="#FEAC33"
              p-id="2216"
            />
            <path
              d="M164.2 497.4c0-80 27.4-153.6 73.2-211.9H222c-8.3 0-16.4 1.3-24 3.6-26.8 38.5-47 82-58.9 128.8v196.6c17.9 70.3 54.4 133.1 104.1 182.8h97.3c-105.2-58.7-176.3-171-176.3-299.9zM891 368.3c0-3.2-0.2-6.3-0.6-9.5-7.9-18.2-17-35.8-27.4-52.5-14.6-13-33.9-20.9-54.9-21v-40.9c0-2.2 0.8-4.2 2-5.7-34.1-35.1-74.6-63.9-119.6-84.5L647.4 184c119.7 53.6 203.1 173.7 203.1 313.4 0 129-71.1 241.3-176.3 299.9h132.1c35.6-35.7 64.5-78.1 84.6-125.2l0.1-303.8z"
              fill="#FEB133"
              p-id="2217"
            />
            <path
              d="M850.5 497.4c0-139.7-83.4-259.8-203.1-313.4l-43.1 29.6s-0.1 0-0.1 0.1c14.3 6.2 28 13.5 41 21.8 3.6 0.1 6.7 2.3 8.1 5.4 75.6 52 125.2 139.1 125.2 237.8 0 159.3-129.1 288.5-288.5 288.5S201.5 637.9 201.5 478.6c0-74.3 28.1-142 74.2-193.2h-38.3c-45.9 58.4-73.2 131.9-73.2 211.9 0 129 71.1 241.3 176.3 299.9h333.8c105.1-58.6 176.2-170.9 176.2-299.8z"
              fill="#FEB633"
              p-id="2218"
            />
            <path
              d="M611 235.4H645.2c-13-8.3-26.7-15.6-41-21.8-9.6 6.7-4.9 21.8 6.8 21.8zM489.9 767c159.3 0 288.5-129.1 288.5-288.5 0-98.7-49.6-185.8-125.2-237.8 0.5 1.1 0.8 2.4 0.8 3.7v40.9h-25.9c47.9 42.8 78.1 105.1 78.1 174.4 0 129.1-104.6 233.7-233.7 233.7S238.8 588.9 238.8 459.8c0-69.3 30.2-131.6 78.1-174.4h-41.2c-46.1 51.1-74.2 118.9-74.2 193.2 0 159.3 129.1 288.4 288.4 288.4z"
              fill="#FFBC34"
              p-id="2219"
            />
            <path
              d="M238.8 459.8c0 129.1 104.6 233.7 233.7 233.7s233.7-104.6 233.7-233.7c0-69.3-30.2-131.6-78.1-174.4h-84.5c54 30.8 90.5 88.9 90.5 155.6 0 98.9-80.1 179-179 179s-179-80.1-179-179c0-66.6 36.4-124.8 90.5-155.6H317c-48 42.8-78.2 105.1-78.2 174.4z"
              fill="#FFC134"
              p-id="2220"
            />
            <path
              d="M276.1 441c0 98.9 80.1 179 179 179s179-80.1 179-179c0-66.6-36.4-124.8-90.5-155.6H366.5c-54 30.8-90.4 89-90.4 155.6z m161.6-143c68.6 0 124.3 55.6 124.3 124.3s-55.6 124.3-124.3 124.3S313.4 491 313.4 422.3 369 298 437.7 298z"
              fill="#FFC634"
              p-id="2221"
            />
            <path
              d="M313.4 422.2a124.3 124.3 0 1 0 248.6 0 124.3 124.3 0 1 0-248.6 0Z"
              fill="#FFCB34"
              p-id="2222"
            />
            <path
              d="M808.1 806.3H222c-50.7 0-91.9-41.2-91.9-91.9V368.3c0-50.7 41.2-91.9 91.9-91.9h423.1v-31.9l-0.1-0.1h-33.9c-9.4 0-17.3-5.8-20.1-14.8-2.8-9 0.5-18.2 8.2-23.4l104.1-71.5c16.9-11.6 38.7-11.6 55.6 0L863 206.2c7.7 5.3 10.9 14.5 8.1 23.5-2.8 9-10.6 14.8-20 14.8h-33.9l-0.1 0.1v32.3c46.5 4.5 82.9 43.8 82.9 91.5v346.1c0 50.6-41.2 91.8-91.9 91.8zM222 294.4c-40.7 0-73.9 33.2-73.9 73.9v346.1c0 40.7 33.2 73.9 73.9 73.9h586.1c40.7 0 73.9-33.2 73.9-73.9V368.3c0-40.7-33.2-73.9-73.9-73.9h-9v-49.9c0-10 8.1-18.1 18.1-18.1h33.9c1.8 0 2.5-1.1 2.8-2.1 0.3-1 0.3-2.3-1.1-3.3l-104.1-71.5c-10.7-7.3-24.5-7.3-35.2 0L609.4 221c-1.5 1-1.5 2.3-1.2 3.3 0.3 1 1 2.1 2.9 2.1H645c10 0 18.1 8.1 18.1 18.1v49.9H222z"
              fill="#FFA820"
              p-id="2223"
            />
            <path
              d="M756.3 621.1c-3.4 0-6.2-2.8-6.2-6.2v-14.6c0-2.3 1.7-4.4 4-4.8 36-6.5 55-34.9 55-65.9 0-33-17-52.9-60.2-67.9-31.1-11.2-43.8-19.1-43.8-30.7 0-10.1 7.6-20.6 31.1-20.6 16.3 0 29 3.2 38.5 6.7 7.4 2.8 15.7-1.5 17.7-9.2 1.2-4.9 2.7-10.1 3.9-14.6 1.7-6.6-1.8-13.4-8.1-15.8-9.5-3.6-20.8-6.3-36.1-7.2-2.2-0.1-4-2-4-4.2v-17.3c0-5.8-4.7-10.5-10.5-10.5h-17.8c-5.8 0-10.5 4.7-10.5 10.5v20.4c0 2-1.4 3.8-3.3 4.2-36.6 8-56.1 32.4-56.1 63.7 0 35.1 26.4 53.1 65.1 66.2 27.2 9 38.8 17.8 38.8 31.5 0 14.1-14.1 22.4-35.1 22.4-17.1 0-32.9-4-46.2-9.3-7.4-3-15.8 1.2-17.8 9-1.3 5.2-2.8 10.9-4 15.7-1.7 6.7 1.9 13.7 8.3 16.1 13 4.9 30.3 9 47.5 10.2 2.6 0.2 4.6 2.3 4.6 4.9V615c0 3.4-2.8 6.2-6.2 6.2H188.3c-10.8 0-19.5 8.8-19.5 19.5v36c0 10.8 8.8 19.5 19.5 19.5h655.3c10.8 0 19.5-8.8 19.5-19.5v-36c0-10.8-8.8-19.5-19.5-19.5h-87.3v-0.1z"
              fill="#FFE3B4"
              p-id="2224"
            />
            <path
              d="M194.6 431.2c-9.9 0-18-8.1-18-18v-16.3c0-42.4 34.5-76.9 76.9-76.9h38.6c9.9 0 18 8.1 18 18s-8.1 18-18 18h-38.6c-22.5 0-40.9 18.3-40.9 40.9v16.3c0 9.9-8 18-18 18zM194.6 500.8c-9.9 0-18-8.1-18-18v-10.5c0-9.9 8.1-18 18-18s18 8.1 18 18v10.5c0 9.9-8 18-18 18z"
              fill="#FFFFFF"
              p-id="2225"
            />
          </svg>
          <span>分配总支出</span>
          <p>558.00</p>
        </div>
        <div className="profit">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="profit-icon"
            viewBox="0 0 1024 1024"
          >
            <path
              d="M919.51104 484.49024a27.5968 27.5968 0 0 0-27.67872 27.50976c0 206.7968-169.2416 375.03488-377.2672 375.03488S137.29792 718.80192 137.29792 512 306.54464 136.97024 514.56 136.97024A379.904 379.904 0 0 1 802.05312 269.312l-60.87168-17.29536a27.52512 27.52512 0 1 0-15.22176 52.90496l130.87232 37.1968 2.41152 0.25088a45.824 45.824 0 0 0 50.57536-42.52672l0.17408-2.79552-19.15392-135.168a27.67872 27.67872 0 0 0-54.81984 7.68l9.2416 65.19808A435.61472 435.61472 0 0 0 514.56 81.92C276.01408 81.92 81.92 274.8672 81.92 512s194.07872 430.08 432.64 430.08 432.64-192.9216 432.64-430.08a27.5968 27.5968 0 0 0-27.68896-27.50976z"
              fill="#2966C1"
              p-id="2522"
            />
            <path
              d="M630.784 555.17184h-86.94784v-34.44224H630.784a27.5712 27.5712 0 1 0 0-55.13728h-55.12704l72.192-71.59296a27.39712 27.39712 0 0 0 0-38.98368 27.95008 27.95008 0 0 0-39.30624 0l-91.60192 90.84416c-0.3072 0-0.59392-0.08704-0.90112-0.08704a27.61728 27.61728 0 0 0-3.6608 0.36864l-91.86816-91.136a27.94496 27.94496 0 0 0-39.30112 0 27.40224 27.40224 0 0 0 0 38.98368l72.192 71.59296H401.3056a27.5712 27.5712 0 1 0 0 55.13728h86.9376v34.44224H401.3056a27.5712 27.5712 0 1 0 0 55.13728h86.9376v90.624a27.79648 27.79648 0 0 0 55.59296 0V610.304H630.784a27.5712 27.5712 0 1 0 0-55.13216z"
              fill="#FD9A16"
              p-id="2523"
            />
          </svg>
          <span>平台总盈利</span>
          <p>762,000.00</p>
        </div>
      </Collect>
      <TaskAndMessage>
        <div className="task">
          <CalendarOutlined style={{ fontSize: '16px' }} />
          <span>日程任务</span>
        </div>

        <div className="date-pick">
          <Calendar
            fullscreen={false}
            headerRender={({ value, type, onChange, onTypeChange }) => {
              // 1. 修复月份显示：直接生成中文月份，避免 format 异常
              const monthOptions = []
              for (let i = 0; i < 12; i++) {
                monthOptions.push(
                  <Select.Option key={i} value={i} className="month-item">
                    {`${i + 1}月`} {/* 直接显示 1月~12月，稳定无异常 */}
                  </Select.Option>
                )
              }

              // 2. 修复年份选项：确保 value 是数字类型
              const year = value.year() // 当前年份（数字）
              const month = value.month() // 当前月份（数字 0~11）
              const options = []
              for (let i = year - 10; i < year + 10; i += 1) {
                options.push(
                  <Select.Option key={i} value={i} className="year-item">
                    {i} {/* 年份显示数字，如 2024 */}
                  </Select.Option>
                )
              }

              return (
                <div className="calendar-header">
                  <Row
                    style={{
                      display: 'flex',
                      flexWrap: 'nowrap',
                      alignItems: 'center',
                      gap: '8px'
                    }}
                  >
                    <Col>
                      <Radio.Group
                        size="middle"
                        onChange={(e) => onTypeChange(e.target.value)}
                        value={type}
                        className="calendar-mode"
                      >
                        <Radio.Button value="month">Month</Radio.Button>
                        <Radio.Button value="year">Year</Radio.Button>
                      </Radio.Group>
                    </Col>
                    <Col className="year-select">
                      <Select
                        size="small"
                        dropdownMatchSelectWidth={false}
                        value={year}
                        onChange={(newYear) => {
                          const now = value.clone().year(Number(newYear)) // 显式转数字
                          onChange(now)
                        }}
                      >
                        {options}
                      </Select>
                    </Col>
                    <Col className="month-select">
                      <Select
                        size="small"
                        dropdownMatchSelectWidth={false}
                        value={month}
                        style={{ width: '80px' }}
                        onChange={(newMonth) => {
                          const now = value.clone().month(Number(newMonth)) // 显式转数字
                          onChange(now)
                        }}
                      >
                        {monthOptions}
                      </Select>
                    </Col>
                  </Row>
                </div>
              )
            }}
            onPanelChange={onPanelChange}
          />
        </div>
      </TaskAndMessage>
    </div>
  )
}

export default Home
